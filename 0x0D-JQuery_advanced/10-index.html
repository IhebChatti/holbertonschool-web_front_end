<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8" />
    <title>Task 10</title>
    <script
      src="https://code.jquery.com/jquery-3.5.1.js"
      integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc="
      crossorigin="anonymous"
    ></script>
  </head>
  <body>
    <script type="application/javascript">
      function addPostRow(data) {
        let $span = $(
          `<p><span>Post created with id ${data.id}, title: ${data.title}, author: ${data.author}</span></p>`
        );
        $("body").append($span);
      }

      function listPosts() {
        let url = "http://localhost:3000/posts";
        $.get(url)
          .done(function (data) {
            for (let i = 0; i < data.length; i++) {
              let element = data[i];
              addPostRow(element);
            }
          })
          .fail(function () {
            alert("Server Error");
          });
      }
      listPosts();
    </script>
  </body>
</html>
